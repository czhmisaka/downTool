webpackJsonp([1],{"87os":function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header"},[a("span",{staticClass:"header-title"},[t._v("DownTool Server")]),t._v(" "),a("ul",{staticClass:"header-ul"},[a("li",{staticClass:"header-li",on:{click:t.focus}},[a("i",{staticClass:"fa fa-check-circle",staticStyle:{"margin-right":"10px"},attrs:{"aria-hidden":"true"}}),a("router-link",{staticClass:"link",attrs:{to:"/"}},[t._v("projects")])],1),t._v(" "),a("li",{staticClass:"header-li",on:{click:t.focus}},[a("i",{staticClass:"fa fa-plus",staticStyle:{"margin-right":"10px"},attrs:{"aria-hidden":"true"}}),a("router-link",{staticClass:"link",attrs:{to:"/aaa"}},[t._v("create")])],1),t._v(" "),a("li",{staticClass:"header-li",on:{click:t.focus}},[a("i",{staticClass:"fa fa-paper-plane",staticStyle:{"margin-right":"10px"},attrs:{"aria-hidden":"true"}}),a("router-link",{staticClass:"link",attrs:{to:"/bbb"}},[t._v("projects")])],1)])])},staticRenderFns:[]};var n={name:"footer",data:function(){return{title:"a footer component",serverStatus:1,serverRunningDate:"未启动"}},methods:{getServerStatus:function(){this.$axios.get("/getServerStatus").then(function(t){for(var e in console.log(t),t.data)1==t.data?this.serverStatus=2:this.serverStatus=1},function(){console.log("请求失败处理"),this.serverStatus=0})},getServerDate:function(){}},sockets:{connect:function(t){console.log(t)},getServerDate:function(t){console.log(t)}}},o={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"footer"},[e("ul",{staticClass:"fotter-ul"},[e("li",{staticClass:"footer-li date"},[e("i",{staticClass:"fa fa-clock-o icon",attrs:{"aria-hidden":"true"}}),this._v("已运行：200秒")]),this._v(" "),e("li",{staticClass:"footer-li"},[this._v("状态"),e("i",{staticClass:"fa fa- icon",attrs:{"aria-hidden":"true"}})]),this._v(" "),e("li",{staticClass:"footer-li right",staticStyle:{"margin-right":"20px"}},[e("i",{staticClass:"fa fa-refresh icon",attrs:{"aria-hidden":"true"}})])])])}]};var r={name:"App",components:{navBar:a("VU/8")({name:"nav",data:function(){return{title:"a nav component",id:0}},methods:{focus:function(){var t=this.$route.path,e=this.$el.getElementsByClassName("header-li");e[this.id].classList.remove("check"),"/"===t?this.id=0:"/aaa"==t?this.id=1:"/bbb"==t&&(this.id=2),e[this.id].classList.add("check")}},mounted:function(){this.focus()}},i,!1,function(t){a("sQMJ")},"data-v-6f41b91f",null).exports,footerBar:a("VU/8")(n,o,!1,function(t){a("gx6a")},"data-v-64fd6a45",null).exports}},l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("navBar"),this._v(" "),e("router-view"),this._v(" "),e("footerBar")],1)},staticRenderFns:[]};var c=a("VU/8")(r,l,!1,function(t){a("XG4L")},null,null).exports,u=a("/ocq"),d=a("woOf"),f=a.n(d),h={props:{id:Number,per:Number,size:String,filename:String,filepath:String,begintime:String,processtime:Number},data:function(){return{title:"a task bar"}},methods:{close:function(){var t=this;this.$swal({type:"error",text:"你确定要删除"+this.name+"任务吗?",confirmButtonText:"是滴！！",cancelButtonText:"不要！"}).then(function(e){e.value&&t.$emit("delete",t.id)})},refresh:function(){var t=this;this.$swal({text:"你确定要刷新"+this.name+"任务吗?",confirmButtonText:"是滴！！",cancelButtonText:"不要！"}).then(function(e){e.value&&t.$emit("refresh",t.name)})}}},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"content-li"},[a("div",{staticClass:"content-li-block"},[0===t.per?a("i",{staticClass:"fa fa-cloud-download",attrs:{"aria-hidden":"true"}}):100===t.per?a("i",{staticClass:"fa fa-check-circle",attrs:{"aria-hidden":"true"}}):a("i",{staticClass:"fa fa-stop-circle",attrs:{"aria-hidden":"true"}})]),t._v(" "),a("div",{staticClass:"content-li-block longger"},[a("span",{staticClass:"solid-bar",style:{width:"calc("+t.per+"% - 50px)"}}),t._v(" "),a("span",{staticClass:"progress-bar-per "},[t._v(t._s(t.per+"%"))])]),t._v(" "),a("div",{staticClass:"content-li-block file"},[t._v(t._s(t.filename))]),t._v(" "),a("div",{staticClass:"content-li-block",on:{click:t.refresh}},[a("i",{staticClass:"fa fa-refresh",attrs:{"aria-hidden":"true"}})]),t._v(" "),a("div",{staticClass:"content-li-block right",on:{click:t.close}},[a("i",{staticClass:"fa fa-window-close",attrs:{"aria-hidden":"true"}})])])},staticRenderFns:[]};var v={per:100,size:"100mb",filename:"高等数学资料",filepath:"/chengbo/img/",begintime:"2020/02/04",processtime:368,id:0},m={url:"https://www.baidu.com",name:"百度",path:"test_file"},k={name:"index",components:{task:a("VU/8")(h,p,!1,function(t){a("87os")},"data-v-46dfb1a7",null).exports},data:function(){return{title:"downtool server",taskNum:0,tasks:[],taskUrl:"https://www.taobao.com",taskName:"淘宝网",taskFilePath:"test_file"}},methods:{createTask:function(){f()({},v);document.getElementsByClassName("panel")[0].style.display="block"},downloadTask:function(){var t=this;document.getElementsByClassName("panel")[0].style.display="none";var e=f()({},m);e.url=this.taskUrl,e.name=this.taskName,e.path=this.taskFilePath,this.$axios.post("http://127.0.0.1:8900/createTask",{task:e}).then(function(e){console.log(e),1001==e.data?t.$swal({type:"success",text:"请求成功"}):t.$swal({type:"warring",text:"服务器出了一点差错"})},function(){t.$swal({type:"error",text:"请求失败"}),console.log("请求失败处理")})},update:function(){},ondelete:function(t){for(var e=0;e<this.tasks.length;e++){this.tasks.id==t&&(tasks=this.tasks[e]);break}this.tasks.splice(this.tasks.indexOf(null),1)},getTask:function(){var t=this,e=this;setInterval(function(){t.$axios.get("/getTask").then(function(t){for(var a in console.log(t),t.data)console.log(a),e.tasks=t.data},function(){console.log("请求失败处理")})},2e5)},close:function(){document.getElementsByClassName("panel")[0].style.display="none",console.log(this.$el)}},mounted:function(){this.getTask(),this.$socket.emit("update",{data:this.taskFilePath})},sockets:{connect:function(t){console.log(t)},response:function(t){if(console.log(t),"[]"!=t){var e=JSON.parse(t.data);this.tasks=e}this.$socket.emit("update",{data:this.taskFilePath})}}},g={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("ul",{staticClass:"content-ul"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.tasks.length,expression:"!tasks.length"}],staticClass:"no-task"},[t._v("没有任务哦")]),t._v(" "),t._l(t.tasks,function(e){return a("task",{key:e.id,attrs:{per:e.per,size:e.size,filename:e.filename,filepath:e.filepath,begintime:e.begintime,processtime:e.processtime,id:e.id},on:{delete:t.ondelete}})})],2),t._v(" "),a("div",{staticClass:"panel"},[a("div",{staticClass:"tab"},[a("div",{staticClass:"close",on:{click:t.close}},[a("i",{staticClass:"fa fa-2x fa-window-close"})])]),t._v(" "),a("div",{staticClass:"panel-content"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.taskUrl,expression:"taskUrl"}],staticClass:"panel-input",attrs:{type:"text",placeholder:"请输入URL地址",value:"https://www.baidu.com"},domProps:{value:t.taskUrl},on:{input:function(e){e.target.composing||(t.taskUrl=e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.taskName,expression:"taskName"}],staticClass:"panel-input",attrs:{type:"text",placeholder:"请输入文件名",value:"百度首页"},domProps:{value:t.taskName},on:{input:function(e){e.target.composing||(t.taskName=e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.taskFilePath,expression:"taskFilePath"}],staticClass:"panel-input",attrs:{type:"text",placeholder:"请输入存放地址",value:"test_file"},domProps:{value:t.taskFilePath},on:{input:function(e){e.target.composing||(t.taskFilePath=e.target.value)}}})]),t._v(" "),a("button",{staticClass:"panel-button",on:{click:t.downloadTask}},[t._v("下载")])]),t._v(" "),a("button",{staticClass:"content-button",on:{click:t.createTask}},[t._v("create")])])},staticRenderFns:[]};var C=a("VU/8")(k,g,!1,function(t){a("y8z/")},"data-v-1b3e1b52",null).exports;s.a.use(u.a);var _=new u.a({routes:[{path:"/aaa",name:"index",component:C}]}),b=(a("e0XP"),a("e7x4")),w=a.n(b),x={install:function(t){w.a.setDefaults({type:"warning",showCancelButton:!0,confirmButtonColor:"rgb(140,212,245)",cancelButtonColor:"rgb(193,193,193)"},{type:"error",showCancelButton:!0,confirmButtonColor:"rgb(200,212,245)",cancelButtonColor:"rgb(193,193,193)"}),t.swal=w.a,t.prototype.$swal=w.a}},y=a("mtWM"),$=a.n(y),N=a("Oprb"),S=a.n(N);s.a.use(new S.a({debug:!0,connection:"http://127.0.0.1:8900/test"})),s.a.prototype.$axios=$.a,s.a.use(x),s.a.config.productionTip=!1,new s.a({el:"#app",router:_,components:{App:c},template:"<App/>"})},XG4L:function(t,e){},e0XP:function(t,e){},gx6a:function(t,e){},sQMJ:function(t,e){},"y8z/":function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.ae755d5c1f7ca9a7a658.js.map